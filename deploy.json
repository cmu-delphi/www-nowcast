{
  "type": "delphi deploy config",
  "version": 1,
  "actions": [

    "// access control",
    {
      "type": "move",
      "src": "site/.htaccess",
      "dst": "/var/www/html/nowcast/.htaccess",
      "add-header-comment": true
    },

    "// minimization",
    {
      "type": "minimize-js",
      "src": "site/js/fetchData.js"
    },
    {
      "type": "minimize-js",
      "src": "site/js/delphi_epidata.js"
    },
    {
      "type": "minimize-js",
      "src": "site/js/map-app.js"
    },
    {
      "type": "minimize-js",
      "src": "site/js/pseudocode.js"
    },
    {
      "type": "minimize-js",
      "src": "site/js/geodata/us-census-regions.js"
    },
    {
      "type": "minimize-js",
      "src": "site/js/geodata/us-cities-up.js"
    },
    {
      "type": "minimize-js",
      "src": "site/js/geodata/us-counties-up.js"
    },
    {
      "type": "minimize-js",
      "src": "site/js/geodata/us-hhs-regions.js"
    },
    {
      "type": "minimize-js",
      "src": "site/js/geodata/us-national.js"
    },
    {
      "type": "minimize-js",
      "src": "site/js/geodata/us-states.js"
    },
    {
      "type": "minimize-js",
      "src": "site/js/geodata/us-states-up.js"
    },

    "// web sources",
    {
      "type": "move",
      "src": "site/",
      "dst": "/var/www/html/nowcast/",
      "match": "^.*\\.(html|css|js)$",
      "add-header-comment": true
    },
    {
      "type": "move",
      "src": "site/css/",
      "dst": "/var/www/html/nowcast/css/",
      "match": "^.*\\.css$",
      "add-header-comment": true
    },
    {
      "type": "move",
      "src": "site/js/",
      "dst": "/var/www/html/nowcast/js/",
      "match": "^.*\\.js$",
      "add-header-comment": true
    },
    {
      "type": "move",
      "src": "site/vendor/",
      "dst": "/var/www/html/nowcast/vendor/",
      "match": "^.*\\.js$"
    },

    "// mobile app resources",
    {
      "type": "move",
      "src": "site/manifest.json",
      "dst": "/var/www/html/nowcast/manifest.json"
    },

    "// images",
    {
      "type": "move",
      "src": "site/img/",
      "dst": "/var/www/html/nowcast/img/",
      "match": "^.+\\.(svg|jpg|png|gif)$"
    }
  ]
}
