{
  "type": "delphi deploy config",
  "version": 1,
  "actions": [

    "// access control",
    {
      "type": "move",
      "src": "site/.htaccess",
      "dst": "/var/www/html/nowcast/.htaccess",
      "add-header-comment": true
    },

    "// compilation",
    {
      "type": "compile-coffee",
      "src": "site/app.coffee"
    },

    "// minimization",
    {
      "type": "minimize-js",
      "src": "site/app.js"
    },
    {
      "type": "minimize-js",
      "src": "site/geodata.js"
    },
    {
      "type": "minimize-js",
      "src": "site/baselinedata.js"
    },

    "// web sources",
    {
      "type": "move",
      "src": "site/",
      "dst": "/var/www/html/nowcast/",
      "match": "^.*\\.(html|css|js)$",
      "replace-keywords": [
        "values/strings.json",
        "values/colors.json"
      ],
      "add-header-comment": true
    },

    "// images",
    {
      "type": "move",
      "src": "site/images/",
      "dst": "/var/www/html/nowcast/images/",
      "match": "^.+\\.(svg|jpg|png|gif)$"
    }
  ]
}
