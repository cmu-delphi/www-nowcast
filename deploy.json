{
  "type": "delphi deploy config",
  "version": 1,
  "actions": [

    "// access control",
    {
      "type": "move",
      "src": "site/.htaccess",
      "dst": "/var/www/html/nowcast/.htaccess",
      "add-header-comment": true
    },

    "// minimization",
    {
      "type": "minimize-js",
      "src": "site/js/fetchData.js"
    },
    {
      "type": "minimize-js",
      "src": "site/js/delphi_epidata.js"
    },
    {
      "type": "minimize-js",
      "src": "site/js/pseudocode.js"
    },
    {
      "type": "minimize-js",
      "src": "site/js/geodata/us-census-regions.js"
    },
    {
      "type": "minimize-js",
      "src": "site/js/geodata/us-cities-test.js"
    },
    {
      "type": "minimize-js",
      "src": "site/js/geodata/us-cities-up.js"
    },
    {
      "type": "minimize-js",
      "src": "site/js/geodata/us-cities.js"
    },
    {
      "type": "minimize-js",
      "src": "site/js/geodata/us-counties-up.js"
    },
    {
      "type": "minimize-js",
      "src": "site/js/geodata/us-hhs-regions.js"
    },
    {
      "type": "minimize-js",
      "src": "site/js/geodata/us-national.js"
    },
    {
      "type": "minimize-js",
      "src": "site/js/geodata/us-states.js"
    },
    {
      "type": "minimize-js",
      "src": "site/js/geodata/us-states-up.js"
    },

    "// web sources",
    {
      "type": "move",
      "src": "site/",
      "dst": "/var/www/html/nowcast/",
      "match": "^.*\\.(html|css|js)$",
      "add-header-comment": true
    },
    {
      "type": "move",
      "src": "site/css/",
      "dst": "/var/www/html/nowcast/css/",
      "match": "^.*\\.css$",
      "add-header-comment": true
    },
    {
      "type": "move",
      "src": "site/js/",
      "dst": "/var/www/html/nowcast/js/",
      "match": "^.*\\.js$",
      "add-header-comment": true
    },
    {
      "type": "move",
      "src": "site/js/geodata/",
      "dst": "/var/www/html/nowcast/js/geodata/",
      "match": "^.*\\.js$",
      "add-header-comment": true
    },

    "// vendor files",
    {
      "type": "move",
      "src": "site/vendor/d3/",
      "dst": "/var/www/html/nowcast/vendor/d3",
      "match": "^.+\\.(css|js)$"
    },
    {
      "type": "move",
      "src": "site/vendor/jquery/",
      "dst": "/var/www/html/nowcast/vendor/jquery",
      "match": "^.+\\.(js)$"
    },
    {
      "type": "move",
      "src": "site/vendor/leaflet/",
      "dst": "/var/www/html/nowcast/vendor/leaflet",
      "match": "^.+\\.(css|js)$"
    },

    "// mobile app resources",
    {
      "type": "move",
      "src": "site/manifest.json",
      "dst": "/var/www/html/nowcast/manifest.json"
    },

    "// robots",
    {
      "type": "move",
      "src": "site/robots.txt",
      "dst": "/var/www/html/nowcast/robots.txt"
    },

    "// images",
    {
      "type": "move",
      "src": "site/img/",
      "dst": "/var/www/html/nowcast/img/",
      "match": "^.+\\.(svg|jpg|png|gif)$"
    }
  ]
}
